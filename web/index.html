<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Chatbot GESPRO</title>
</head>

<body>
    <h2>Chat con GESPRO AI</h2>

    <div id="chat" style="border:1px solid #ccc;height:300px;overflow:auto;padding:5px;"></div>

    <input id="msg" placeholder="Escribe tu mensaje..." />
    <button onclick="send()">Enviar</button>

    <br><br>

    <button onclick="callBot()">ðŸ“ž Llamar al bot</button>

    <script>
        const API_URL = "https://unreposed-insipiently-lekisha.ngrok-free.dev/chat";  // ðŸ‘ˆ pega tu URL aquÃ­

        async function send() {
            const msg = document.getElementById("msg").value;
            const res = await fetch(API_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    message: msg,
                    session_id: "webuser"
                })
            });

            const data = await res.json();
            document.getElementById("chat").innerHTML += "<b>TÃº:</b> " + msg + "<br>";
            document.getElementById("chat").innerHTML += "<b>Bot:</b> " + data.reply + "<br><br>";
        }

        function callBot() {
            window.open("https://dashboard.retellai.com/call", "_blank");
        }
    </script>
</body>

</html>